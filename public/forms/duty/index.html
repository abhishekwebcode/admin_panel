<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <link href="../css/forms.css" rel="stylesheet" type="text/css">
</head>

<body>

    <form id='iframe-form'>

        <section class="attachment-section section-block">
            <button class='mdc-fab mdc-theme--primary-bg' id='add-duty-btn'>
                <span class='mdc-fab__icon material-icons mdc-theme--on-primary'>
                    add
                </span>
            </button>

            <!-- <div class="text-field-block">

                <div class="mdc-text-field" data-mdc-auto-init="MDCTextField">
                    <input class="mdc-text-field__input" id="name-input" required data-field='Name'>
                    <div class="mdc-line-ripple"></div>
                    <label for="name-input" class="mdc-floating-label">Name</label>
                </div>
            </div>
            <div class="text-field-block">
                <div class="mdc-select">
                    <div class="mdc-select__anchor demo-width-class">
                      <i class="mdc-select__dropdown-icon"></i>
                      <div class="mdc-select__selected-text"></div>
                      <span class="mdc-floating-label">Duty Type</span>
                      <div class="mdc-line-ripple"></div>
                    </div>
                  
                    <div class="mdc-select__menu mdc-menu mdc-menu-surface demo-width-class">
                      <ul class="mdc-list">
                      
                      </ul>
                    </div>
                  </div>
            </div>
            <div class="text-field-block">
                <div class="filter-area">
                    <div class="mdc-form-field">
                        <div class="mdc-radio" data-id="Name"  type="radio" id="customer-name" name="radio-set" value="Name">
                            <div class="mdc-radio__background">
                                <div class="mdc-radio__outer-circle"></div>
                                <div class="mdc-radio__inner-circle"></div>
                            </div>
                        </div>
                        <label for="customer-name">Name</label>
                    </div>
                    <div class="mdc-form-field">
                        <div class="mdc-radio" data-id="Address"  type="radio" id="customer-address" name="radio-set" value="Address">
                            <div class="mdc-radio__background">
                            <div class="mdc-radio__outer-circle"></div>
                            <div class="mdc-radio__inner-circle"></div>
                            </div>
                        </div>
                        <label for="customer-name">Address</label>
                    </div>
                </div>

               <input list="locations" name="locaion">
               <datalist>

               </datalist>
            </div> -->
        </section>
        <section class="form-actionable section-block">
            <div class="form-buttons">
                <button class="mdc-button" type="button" data-mdc-auto-init="MDCRipple" id='cancel-form'>
                    CANCEL
                </button>
                <input type='submit' class='mdc-button mdc-button--raised' value='SAVE' data-mdc-auto-init="MDCRipple">
            </div>
            </div>
    </form>

    <script src="../js/forms.js"></script>
    <script>
        let rows = 0;
        const addBtn = document.getElementById('add-duty-btn');

        function init(dataObject,isCreate) {
            readJson('duty').then(dutyJSON => {
                addBtn.addEventListener('click',function(){
                    rows++
                    addDutyRow(dutyJSON,dataObject);
                })    
            })
        }

        function addDutyRow(blankTemplate,dataObject) {
            const container = createElement('div',{
                className:'duty-container'
            })
            container.dataset.row = rows;
            blankTemplate.schedule.forEach(function(name){
                for (let index = 0; index < 2; index++) {
                  
                    const schedule = createElement('div',{
                        className:'duty-schedule'
                    })
                    schedule.appendChild(textField({
                        required:true,
                        label:'date',
                        type:'date'
                    }))
                    schedule.appendChild(textField({
                        required:true,
                        label:'time',
                        type:'time'
                    }))
                    schedule.appendChild(createElement('br'));
                    container.appendChild(schedule)
                };
            });
        
        };
        
        function createDutyType(dataObject) {

        }
    </script>

</body>

</html>